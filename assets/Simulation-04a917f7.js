import{_ as s}from"./index-a26e69cf.js";import{W as o,V as d,S as r}from"./cannon-es-2d76594b.js";class p{constructor(t){this.app=t,this.items=[],this.init()}async init(){if(this.world=new o({gravity:new d(0,-9.82,0),broadphase:new r}),this.app.hasDebug){const{default:t}=await s(()=>import("./cannon-es-debugger-fcc6507b.js"),["assets/cannon-es-debugger-fcc6507b.js","assets/cannon-es-2d76594b.js","assets/index-a26e69cf.js","assets/index-f94c366f.css"]);this.debugger=new t(this.app.scene,this.world,{color:21760,onInit:(e,i)=>{window.addEventListener("togglePhysicsDebug",()=>{i.visible=!i.visible})}})}}addItem(t){this.items.push(t),this.world.addBody(t.body)}removeItem(t){setTimeout(()=>{this.items=this.items.filter(e=>e!==t),this.world.removeBody(t.body)},0)}update(){var t;this.world.fixedStep();for(const e of this.items)e.update();(t=this.debugger)==null||t.update()}}export{p as Simulation};
